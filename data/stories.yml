version: "3.1"

stories:

- story: flujo_analizar_o_clasificar_gastos
  steps:
    - intent: analizar_o_clasificar_gastos
    - action: action_analizar_o_clasificar_gastos

- story: flujo_analizar_o_clasificar_gastos
  steps:
    - intent: analizar_o_clasificar_gastos
    - action: action_analizar_o_clasificar_gastos

- story: flujo_comparar_meses
  steps:
    - intent: comparar_meses
    - action: action_comparar_meses

- story: flujo_consultar_configuracion
  steps:
    - intent: consultar_configuracion
    - action: action_consultar_configuracion

- story: flujo_consultar_informacion_financiera
  steps:
    - intent: consultar_informacion_financiera
    - action: action_consultar_informacion_financiera

- story: flujo_consultar_informacion_financiera
  steps:
    - intent: consultar_informacion_financiera
    - action: action_consultar_informacion_financiera

- story: flujo_consultar_informacion_financiera
  steps:
    - intent: consultar_informacion_financiera
    - action: action_consultar_informacion_financiera

- story: flujo_consultar_informacion_financiera
  steps:
    - intent: consultar_informacion_financiera
    - action: action_consultar_informacion_financiera

- story: flujo_gestionar_configuracion
  steps:
    - intent: gestionar_configuracion
    - action: action_gestionar_configuracion

- story: flujo_gestionar_configuracion
  steps:
    - intent: gestionar_configuracion
    - action: action_gestionar_configuracion

- story: flujo_entrada_no_entendida
  steps:
    - intent: entrada_no_entendida
    - action: action_entrada_no_entendida

- story: flujo_exportar_informacion
  steps:
    - intent: exportar_informacion
    - action: action_exportar_informacion

- story: flujo_registrar_gasto
  steps:
    - intent: registrar_gasto
    - action: action_registrar_gasto

- story: flujo_registrar_ingreso
  steps:
    - intent: registrar_ingreso
    - action: action_registrar_ingreso

- story: flujo_resetear_categoria_gastos
  steps:
    - intent: resetear_categoria_gastos
    - action: action_resetear_categoria_gastos

- story: flujo_ver_historial_completo
  steps:
    - intent: ver_historial_completo
    - action: action_ver_historial_completo

- story: El usuario acepta la sugerencia del bot
  steps:
    - intent: affirm
    - action: action_follow_suggestion

- story: flujo_registrar_ingreso con sugerencia
  steps:
    - intent: registrar_ingreso
      entities:
        - monto: "500"
        - categoria: "sueldo"
        - fecha: "abril"
        - medio: "debito"
    - action: action_registrar_ingreso
    - slot_was_set:
        - sugerencia_pendiente: "action_consultar_informacion_financiera"
    - intent: affirm
    - action: action_follow_suggestion

- story: flujo_registrar_gasto con sugerencia
  steps:
    - intent: registrar_gasto
      entities:
        - monto: "120"
        - categoria: "comida"
        - fecha: "abril"
        - medio: "debito"
    - action: action_registrar_gasto
    - slot_was_set:
        - sugerencia_pendiente: "action_consultar_informacion_financiera"
    - intent: affirm
    - action: action_follow_suggestion

- story: flujo_consultar_informacion_financiera con sugerencia
  steps:
    - intent: consultar_informacion_financiera
    - action: action_consultar_informacion_financiera
    - slot_was_set:
        - sugerencia_pendiente: "action_analizar_o_clasificar_gastos"
    - intent: affirm
    - action: action_follow_suggestion

- story: flujo_consultar_informacion_financiera con sugerencia
  steps:
    - intent: consultar_informacion_financiera
    - action: action_consultar_informacion_financiera
    - slot_was_set:
        - sugerencia_pendiente: "action_comparar_meses"
    - intent: affirm
    - action: action_follow_suggestion
